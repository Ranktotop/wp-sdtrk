Date.now||(Date.now=function(){return(new Date).getTime()});class Wp_Sdtrk_Engine{constructor(t){this.data=t,this.event=new Wp_Sdtrk_Event,this.localizedData=wp_sdtrk_engine,this.helper=new Wp_Sdtrk_Helper(this.localizedData,this.data),this.fp=new Wp_Sdtrk_Fp,this.clickBtns=[],window.wp_sdtrk_clickedBtns=[],window.wp_sdtrk_visibilityItems=[],window.wp_sdtrk_visitedItems=[],window.wp_sdtrk_catchedScrolls=[],window.wp_sdtrk_history=[],""!==this.localizedData.trkow?this.event.enableForce():this.event.disableForce(),this.collect_eventData(),this.collect_items(),this.catcher_local=new Wp_Sdtrk_Catcher_Local(this.event,this.helper),this.catcher_fb=new Wp_Sdtrk_Catcher_Fb(this.event,this.helper),this.catcher_ga=new Wp_Sdtrk_Catcher_Ga(this.event,this.helper),this.catcher_tt=new Wp_Sdtrk_Catcher_Tt(this.event,this.helper),this.catcher_lin=new Wp_Sdtrk_Catcher_Lin(this.event,this.helper),this.catcher_fl=new Wp_Sdtrk_Catcher_Fl(this.event,this.helper),this.catcher_mtc=new Wp_Sdtrk_Catcher_Mtc(this.event,this.helper),window.wp_sdtrk_scrollDepths=this.event.getScrollTrigger()}get_event(){return this.event}get_helper(){return this.helper}get_catcher_fb(){return this.catcher_fb}get_catcher_ga(){return this.catcher_ga}get_catcher_tt(){return this.catcher_tt}get_catcher_lin(){return this.catcher_lin}get_catcher_fl(){return this.catcher_fl}get_catcher_mtc(){return this.catcher_mtc}collect_items(){var r,a;!1!==this.event.getClickTrigger()&&(r=[],jQuery("[class*='trkbtn-']").each(function(t){var e,i=jQuery(this);for(const s of i.attr("class").split(/\s+/))s.includes("trkbtn-")&&(e=s.replace("trkbtn-","").replace("-trkbtn",""),r.push([i,e]))}),this.clickBtns=r),!1!==this.event.getVisibilityTrigger()&&(a=[],jQuery("[class*='watchitm-']").each(function(t){var e,i=jQuery(this);for(const s of i.attr("class").split(/\s+/))s.includes("watchitm-")&&(e=s.replace("watchitm-","").replace("-watchitm",""),a.push([i,e]))}),window.wp_sdtrk_visibilityItems=a)}collect_eventData(){this.event.setUtm(this.helper.get_Params(this.helper.get_paramNames("utm"))),this.helper.persist(this.event.getUtm()),this.event.setUtm(this.helper.get_Cookies(this.event.getUtm())),this.event.setProdId(this.helper.get_Params(this.helper.get_paramNames("prodid"))),this.event.addProdId("postProdId",this.localizedData.prodId),this.event.setProdName(this.helper.get_Params(this.helper.get_paramNames("prodname"))),this.event.setPageName(this.localizedData.pageTitle),this.event.setPageId(this.localizedData.pageId),this.event.setOrderId(this.helper.get_Params(this.helper.get_paramNames("orderid"))),this.event.setEventId(Math.floor(100*Math.random())+""+Date.now()),this.event.setValue(this.helper.get_Params(this.helper.get_paramNames("value"))),this.event.setEventName(this.helper.get_Params(this.helper.get_paramNames("type"))),this.event.setBrandName(this.localizedData.brandName),this.event.setLandingPage(this.localizedData.currentDomain),this.event.setEventTime(Date.now()/1e3|0),this.event.setEventTimeHour(this.helper.get_time()[0]),this.event.setEventTimeDay(this.helper.get_time()[1]),this.event.setEventTimeMonth(this.helper.get_time()[2]),this.event.setEventSource(this.localizedData.source),this.event.setEventSourceAdress(this.localizedData.addr),this.event.setEventSourceAgent(this.localizedData.agent),this.event.setEventSourceReferer(this.localizedData.referer),this.event.setEventPath(document.location.pathname+document.location.search),this.event.setEventDomain(window.location.host),this.event.setEventUrl(window.location.href),this.event.setUserFirstName(this.helper.get_Params(this.helper.get_paramNames("firstname"))),this.event.setUserLastName(this.helper.get_Params(this.helper.get_paramNames("lastname"))),this.event.setUserFP(this.fp.get_fp()),this.event.setUserEmail(this.helper.get_Params(this.helper.get_paramNames("email"))),this.localizedData.timeTrigger&&this.event.setTimeTrigger(this.localizedData.timeTrigger),this.localizedData.scrollTrigger&&this.event.setScrollTrigger(this.localizedData.scrollTrigger),this.localizedData.clickTrigger&&this.event.setClickTrigger(this.localizedData.clickTrigger),this.localizedData.visibilityTrigger&&this.event.setVisibilityTrigger(this.localizedData.visibilityTrigger),window.history.replaceState({},document.title,this.helper.get_privacyUrl([this.event.getUserFirstName_all(),this.event.getUserLastName_all(),this.event.getUserEmail_all()]))}run(){var r=new Wp_Sdtrk_Catcher_Local(this.event,this.helper),a=this.catcher_fb,h=this.catcher_ga,c=this.catcher_tt,n=this.catcher_lin,l=this.catcher_fl,o=this.catcher_mtc;r.catchPageHit(),a.catchPageHit(2),h.catchPageHit(2),c.catchPageHit(2),n.catchPageHit(2),l.catchPageHit(2),o.catchPageHit(2),window.wp_sdtrk_history.push("Page_0"),!1!==this.event.getTimeTrigger()&&this.event.getTimeTrigger().forEach(t=>{var e=parseInt(t);isNaN(e)||(e*=1e3,jQuery(document).ready(function(){setTimeout(function(){r.catchTimeHit(t),a.catchTimeHit(t,2),h.catchTimeHit(t,2),c.catchTimeHit(t,2),n.catchTimeHit(t,2),l.catchTimeHit(t,2),o.catchTimeHit(t,2),window.wp_sdtrk_history.push("Time_"+t.toString())},e)}))}),!1!==this.event.getClickTrigger()&&this.clickBtns.forEach(t=>{jQuery(t[0]).on("click",function(){window.wp_sdtrk_clickedBtns.includes(t[1])||(window.wp_sdtrk_clickedBtns.push(t[1]),r.catchClickHit(t[1]),a.catchClickHit(t[1],2),h.catchClickHit(t[1],2),c.catchClickHit(t[1],2),n.catchClickHit(t[1],2),l.catchClickHit(t[1],2),o.catchClickHit(t[1],2),window.wp_sdtrk_history.push("Click_"+t[1]))})}),!1!==window.wp_sdtrk_scrollDepths&&window.addEventListener("scroll",function(){window.wp_sdtrk_scrollDepths.length>=window.wp_sdtrk_catchedScrolls.length&&window.wp_sdtrk_scrollDepths.forEach(t=>{var e,i;window.wp_sdtrk_catchedScrolls.includes(t)||(e=jQuery(window).scrollTop(),i=jQuery(document).height()-jQuery(window).height(),t<=Math.ceil(100*e/i)&&(window.wp_sdtrk_catchedScrolls.push(t),r.catchScrollHit(t),a.catchScrollHit(t,2),h.catchScrollHit(t,2),c.catchScrollHit(t,2),n.catchScrollHit(t,2),l.catchScrollHit(t,2),o.catchScrollHit(t,2),window.wp_sdtrk_history.push("Scroll_"+t.toString())))})}),!1!==this.event.getVisibilityTrigger()&&window.addEventListener("scroll",function(){window.wp_sdtrk_visibilityItems.forEach(t=>{var e=jQuery(window).scrollTop(),i=e+jQuery(window).height(),s=jQuery(t[0]).offset().top;s+jQuery(t[0]).height()<=i&&e<=s&&!window.wp_sdtrk_visitedItems.includes(t[1])&&(window.wp_sdtrk_visitedItems.push(t[1]),r.catchVisibilityHit(t[1]),a.catchVisibilityHit(t[1],2),h.catchVisibilityHit(t[1],2),c.catchVisibilityHit(t[1],2),n.catchVisibilityHit(t[1],2),l.catchVisibilityHit(t[1],2),o.catchVisibilityHit(t[1],2),window.wp_sdtrk_history.push("Visited_"+t[1]))})})}}function wp_sdtrk_startEngine(t){jQuery(document).ready(function(){window.wp_sdtrk_engine_class=new Wp_Sdtrk_Engine(t.getDecryptedData()),window.wp_sdtrk_engine_class.run()})}(wp_sdtrk_decrypter=new Wp_Sdtrk_Decrypter).decrypt();