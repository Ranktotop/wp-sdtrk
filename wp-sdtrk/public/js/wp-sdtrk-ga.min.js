var gaEventData=!1,gaEventData_finishedLoading=!1,gaScrollTracked_b=!1,gaClickedButtons_b=[],gaLoaded=!1,gaInitialized=!1;function wp_sdtrk_runGA(){jQuery(document).ready(function(){wp_sdtrk_collectGAData(),wp_sdtrk_track_ga(),gaEventData_finishedLoading=!0})}function wp_sdtrk_collectGAData(){if(""!==wp_sdtrk_ga.ga_id&&wp_sdtrk_event){var t,e=wp_sdtrk_event.grabProdId(),a=wp_sdtrk_event.grabEventName(),r=wp_sdtrk_event.grabValue(),_={};for(t in(0<r||"purchase"==a)&&(_.value=r,_.currency="EUR"),""!==e&&(_.items=[{id:e,name:wp_sdtrk_event.grabProdName(),quantity:1,price:r,brand:wp_sdtrk_event.getBrandName()}]),_.transaction_id=wp_sdtrk_event.grabOrderId(),_.non_interaction=!0,_.page_title=wp_sdtrk_event.getPageName(),_.post_type="product",_.post_id=wp_sdtrk_event.getPageId(),_.plugin="Wp-Sdtrk",_.event_url=wp_sdtrk_event.getEventSource(),_.user_role="guest",wp_sdtrk_event.getUtm())""!==wp_sdtrk_event.getUtm()[t]&&(_[t]=wp_sdtrk_event.getUtm()[t]);_.event_time=wp_sdtrk_getDateTime()[0],_.event_day=wp_sdtrk_getDateTime()[1],_.event_month=wp_sdtrk_getDateTime()[2],_.landing_page=wp_sdtrk_event.getLandingPage(),_.send_to=wp_sdtrk_ga.ga_id,(gaEventData={}).eventData=_,gaEventData.eventName=a,gaEventData.timeTrigger=wp_sdtrk_event.getTimeTrigger(),gaEventData.scrollTrigger=wp_sdtrk_event.getScrollTrigger(),gaEventData.clickTrigger=wp_sdtrk_event.getClickTrigger()}}function wp_sdtrk_track_ga(){!1!==gaEventData&&(gaEventData.bc=wp_sdtrk_checkServiceConsent(wp_sdtrk_ga.c_ga_b_i,wp_sdtrk_ga.c_ga_b_s),!1!==gaEventData.bc&&""!==wp_sdtrk_ga.ga_b_e&&wp_sdtrk_track_ga_b())}function wp_sdtrk_initialize_ga(){var t,e,a;gaInitialized||(gaLoaded||(window,t=document,e="//www.googletagmanager.com/gtag/js?id="+wp_sdtrk_ga.ga_id,a=t.createElement("script"),t=t.getElementsByTagName("script")[0],a.async=1,a.src=e,t.parentNode.insertBefore(a,t),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){dataLayer.push(arguments)},e=wp_sdtrk_getStoredCampaignData(),gtag("js",new Date),gaLoaded=!0),a={dimension1:"event_hour",dimension2:"event_day",dimension3:"event_month"},a.dimension4="dynx_itemid",a.dimension5="dynx_pagetype",t={link_attribution:!(a.dimension6="dynx_totalvalue"),anonymize_ip:!0,custom_map:a,debug_mode:"1"===wp_sdtrk_ga.ga_debug},(e=wp_sdtrk_getStoredCampaignData())&&(void 0!==e.referrer&&(t.page_referrer=e.referrer),void 0!==e.location&&(t.page_location=e.location),void 0!==e.page&&(t.page_path=e.page)),gtag("config",wp_sdtrk_ga.ga_id,t),gaInitialized=!0)}function wp_sdtrk_track_ga_b(){wp_sdtrk_save_ga_CampaignData(),wp_sdtrk_initialize_ga();var t=gaEventData.eventName;t&&""!==t&&"page_view"!==t&&gtag("event",t,gaEventData.eventData),0<gaEventData.timeTrigger.length&&wp_sdtrk_track_ga_b_timeTracker(),!1!==gaEventData.scrollTrigger&&wp_sdtrk_track_ga_b_scrollTracker(),!1!==gaEventData.clickTrigger&&wp_sdtrk_track_ga_b_clickTracker()}function wp_sdtrk_track_ga_b_timeTracker(){!gaInitialized||gaEventData.timeTrigger.length<1||gaEventData.timeTrigger.forEach(e=>{var t=parseInt(e);isNaN(t)||(t*=1e3,jQuery(document).ready(function(){setTimeout(function(){var t="Watchtime-"+e.toString()+"-Seconds";gtag("event",t,gaEventData.eventData)},t)}))})}function wp_sdtrk_track_ga_b_scrollTracker(){!1!==gaEventData.scrollTrigger&&gaInitialized&&!0!==gaScrollTracked_b&&window.addEventListener("scroll",function(){var t,e;!0!==gaScrollTracked_b&&(e=jQuery(this).scrollTop(),t=jQuery(document).height()-jQuery(window).height(),gaEventData.scrollTrigger<=Math.ceil(100*e/t)&&(gaScrollTracked_b=!0,e="Scrolldepth-"+gaEventData.scrollTrigger+"-Percent",gtag("event",e,gaEventData.eventData)))})}function wp_sdtrk_track_ga_b_clickTracker(){!1===gaEventData.clickTrigger||!gaInitialized||wp_sdtrk_buttons.length<1||wp_sdtrk_buttons.forEach(e=>{jQuery(e[0]).on("click",function(){var t;gaClickedButtons_b.includes(e[1])||(gaClickedButtons_b.push(e[1]),(t=wp_sdtrk_clone(gaEventData.eventData)).buttonTag=e[1],gtag("event","ButtonClick",t))})})}function wp_sdtrk_backload_ga_b(){!1!==gaEventData&&!1===gaEventData.bc&&""!==wp_sdtrk_ga.ga_b_e&&gaEventData_finishedLoading&&(gaEventData.bc=!0,wp_sdtrk_track_ga_b())}function randomInteger(t,e){return Math.floor(Math.random()*(e-t+1))+t}function wp_sdtrk_getGclid(){var t;return wp_sdtrk_getParam("gclid")?(t=wp_sdtrk_getParam("gclid"),wp_sdtrk_setCookie("_gc",t,90,!1),t):wp_sdtrk_getCookie("_gc",!1)?(t=wp_sdtrk_getCookie("_gc",!1),wp_sdtrk_setCookie("_gc",t,90,!1),t):""}function wp_sdtrk_getStoredCampaignData(){var t,e=wp_sdtrk_getCookie("_rd",!0),a=wp_sdtrk_getCookie("_cd",!0);return!(!e&&!a)&&(t={},e&&(t.referrer=e,wp_sdtrk_setCookie("_rd","",0,!0)),a&&(t.location=a),t.page=document.location.pathname+document.location.search,t)}function wp_sdtrk_save_ga_CampaignData(){var t;for(t of["gclid"]){wp_sdtrk_getParam(t)&&wp_sdtrk_setCookie("_cd",window.location.href,14,!0);break}var e=wp_sdtrk.referer;-1===e.indexOf(window.location.host)&&""!==e&&wp_sdtrk_setCookie("_rd",wp_sdtrk.referer,14,!0)}